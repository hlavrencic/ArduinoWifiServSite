<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
	<title>example/sendSocket.html</title>
	<link rel="icon" type="image/vnd.microsoft.icon" href="favicon.ico">
  <script src="/lib/knockout.js"></script>
  <script src="/lib/wifiserv.js"></script>
  <script src="/lib/binder.js"></script>
  <link rel="stylesheet" href="https://cdn.rawgit.com/Chalarangelo/mini.css/v3.0.1/dist/mini-default.min.css">
  <link rel="stylesheet" type="text/css" href="/css/style.css">
</head>

<body>
<h1>connect.html</h1>

<button id="btnScan">SCAN</button>
<div data-bind="foreach: lastResponse">
  <div class="collapse" data-bind="if: $data.scan">
    <!-- ko foreach: scan -->
    <input type="radio" data-bind="attr: {id: 'accordion-section' + ssid }"  aria-hidden="true" name="accordion">
    <label for="accordion-section1" aria-hidden="true" data-bind="attr: {for: 'accordion-section' + ssid }, text: ssid"></label>
    <div>
      <form>
      <input type="hidden" name="SSID" data-bind="value: ssid" />
      <input type="password" name="PASSWORD" />
      <button>CONNECT</button>
    </form>
    </div>
    <!-- /ko -->
  </div>
</div>

<div><a href="/">Volver</a></div>
<script src="/lib/index.js"></script>
<script>
  let btnScan = document.querySelector("#btnScan");
  btnScan.addEventListener('click', event => {
    wifiServ.send({ SCAN_WIFI: 1, scan: [{ssid: 'Red1'}, {ssid: 'Red2'}]});
  });
</script>
</body>
</html>